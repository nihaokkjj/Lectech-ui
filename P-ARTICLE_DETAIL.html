<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文章详情 - lectech</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5', // 主色调：深紫色
                        secondary: '#6366F1', // 次要色调：浅紫色
                        tertiary: '#10B981', // 成功色：绿色
                        danger: '#EF4444', // 危险色：红色
                        warning: '#F59E0B', // 警告色：橙色
                        info: '#3B82F6', // 信息色：蓝色
                        light: '#F3F4F6', // 浅色背景
                        dark: '#1F2937', // 深色文本
                        'gray-50': '#F9FAFB',
                        'gray-100': '#F3F4F6',
                        'gray-200': '#E5E7EB',
                        'gray-300': '#D1D5DB',
                        'gray-400': '#9CA3AF',
                        'gray-500': '#6B7280',
                        'gray-600': '#4B5563',
                        'gray-700': '#374151',
                        'gray-800': '#1F2937',
                        'gray-900': '#111827',
                    },
                    boxShadow: {
                        'card': '0 4px 12px rgba(0, 0, 0, 0.05)',
                        'nav': '0 2px 10px rgba(0, 0, 0, 0.05)',
                        'btn': '0 2px 5px rgba(79, 70, 229, 0.2)',
                        'hover': '0 8px 16px rgba(0, 0, 0, 0.1)',
                    },
                    borderRadius: {
                        'xl': '0.75rem',
                        '2xl': '1rem',
                        '3xl': '1.5rem',
                    },
                    fontFamily: {
                        'sans': ['-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                    fontSize: {
                        'xs': '0.75rem',
                        'sm': '0.875rem',
                        'base': '1rem',
                        'lg': '1.125rem',
                        'xl': '1.25rem',
                        '2xl': '1.5rem',
                        '3xl': '1.875rem',
                        '4xl': '2.25rem',
                    }
                }
            }
        }
    </script>
    <style>
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .tag {
            transition: all 0.2s ease;
        }
        
        .tag:hover {
            background-color: rgba(79, 70, 229, 0.1);
            color: #4F46E5;
        }
        
        .nav-link {
            position: relative;
            transition: all 0.2s ease;
        }
        
        .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #4F46E5;
        }
        
        .nav-link:hover:not(.active)::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: #6366F1;
            transform: scaleX(0.7);
            opacity: 0.7;
            transition: all 0.2s ease;
        }
        
        .btn-primary-effect {
            transition: all 0.2s ease;
        }
        
        .btn-primary-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);
        }
        
        .article-card {
            border-bottom: 1px solid #E5E7EB;
            transition: all 0.2s ease;
        }
        
        .article-card:hover {
            background-color: rgba(243, 244, 246, 0.5);
        }
        
        .avatar-stack .avatar:not(:first-child) {
            margin-left: -12px;
        }
        
        /* 代码高亮样式 */
        pre {
            background-color: #1E293B;
            color: #E2E8F0;
            border-radius: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        
        code {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        /* 文章内容样式 */
        .article-content h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #1F2937;
        }
        
        .article-content h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: #1F2937;
        }
        
        .article-content p {
            margin-bottom: 1rem;
            line-height: 1.7;
        }
        
        .article-content ul, .article-content ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
        }
        
        .article-content ul li, .article-content ol li {
            margin-bottom: 0.5rem;
        }
        
        .article-content img {
            max-width: 100%;
            border-radius: 0.5rem;
            margin: 1.5rem 0;
        }
        
        .article-content blockquote {
            border-left: 4px solid #6366F1;
            padding-left: 1rem;
            margin: 1.5rem 0;
            color: #4B5563;
            font-style: italic;
        }
        
        /* 评论区样式 */
        .comment-item {
            border-bottom: 1px solid #E5E7EB;
            transition: all 0.2s ease;
        }
        
        .comment-item:last-child {
            border-bottom: none;
        }
        
        .comment-item:hover {
            background-color: rgba(243, 244, 246, 0.5);
        }
        
        /* 目录样式 */
        .toc-item {
            transition: all 0.2s ease;
        }
        
        .toc-item:hover {
            color: #4F46E5;
            background-color: rgba(243, 244, 246, 0.8);
        }
        
        .toc-item.active {
            color: #4F46E5;
            font-weight: 500;
            background-color: rgba(99, 102, 241, 0.1);
            border-left: 2px solid #4F46E5;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <!-- 顶部导航栏 -->
    <header id="main-header" class="bg-white shadow-nav fixed top-0 left-0 right-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div id="logo" class="flex items-center">
                    <a href="P-HOME.html" class="flex items-center">
                        <span class="text-primary text-2xl font-bold mr-1">lec</span>
                        <span class="text-gray-800 text-2xl font-bold">tech</span>
                    </a>
                </div>
                
                <!-- 主导航菜单 - 中等屏幕以上显示 -->
                <nav id="main-nav" class="hidden md:flex items-center space-x-8">
                    <a href="P-HOME.html" class="nav-link text-gray-600 hover:text-primary">首页</a>
                    <a href="P-TOPIC_DISCUSSION.html" class="nav-link text-gray-600 hover:text-primary">话题</a>
                    <a href="P-RANKING.html" class="nav-link text-gray-600 hover:text-primary">排行榜</a>
                </nav>
                
                <!-- 搜索框 -->
                <div id="search-container" class="hidden md:flex flex-1 max-w-md mx-8">
                    <div class="relative w-full">
                        <input id="search-input" type="text" placeholder="搜索文章、话题或用户" class="w-full h-10 pl-10 pr-4 rounded-full bg-gray-100 border-none focus:outline-none focus:ring-2 focus:ring-primary focus:bg-white transition-all duration-200">
                        <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                    </div>
                </div>
                
                <!-- 未登录状态按钮 -->
                <div id="auth-buttons" class="flex items-center space-x-4">
                    <a href="P-LOGIN.html" class="text-gray-600 hover:text-primary">登录</a>
                    <a href="P-REGISTER.html" class="bg-primary hover:bg-secondary text-white px-4 py-2 rounded-lg btn-primary-effect">注册</a>
                </div>
                
                <!-- 已登录状态 - 默认隐藏 -->
                <div id="user-menu" class="hidden items-center space-x-4">
                    <a href="P-ARTICLE_PUBLISH.html" class="flex items-center space-x-1 text-primary hover:text-secondary">
                        <i class="fas fa-pen-to-square"></i>
                        <span>发布文章</span>
                    </a>
                    <div class="relative">
                        <button id="notifications-btn" class="text-gray-600 hover:text-primary relative p-1">
                            <i class="fas fa-bell text-xl"></i>
                            <span class="absolute top-0 right-0 bg-danger text-white text-xs rounded-full w-4 h-4 flex items-center justify-center">3</span>
                        </button>
                    </div>
                    <div class="relative">
                        <button id="profile-dropdown-btn" class="flex items-center space-x-2">
                            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=256&q=80" alt="用户头像" class="w-8 h-8 rounded-full object-cover">
                            <span class="text-gray-700 font-medium">JaneDoe</span>
                            <i class="fas fa-chevron-down text-xs text-gray-400"></i>
                        </button>
                    </div>
                </div>
                
                <!-- 移动端菜单按钮 -->
                <button id="mobile-menu-btn" class="md:hidden text-gray-600 hover:text-primary">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- 主内容区 -->
    <main class="container mx-auto pt-20 px-4 pb-8 flex">
        <!-- 左侧菜单 -->
        <aside id="sidebar" class="hidden lg:block w-56 mr-6 flex-shrink-0">
            <div class="bg-white rounded-xl shadow-card p-4 sticky top-20">
                <h3 id="categories-title" class="text-gray-700 font-semibold mb-3">文章分类</h3>
                <ul id="categories-list" class="space-y-2">
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-laptop-code mr-2"></i>
                            <span>全部文章</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg bg-primary bg-opacity-10 text-primary">
                            <i class="fas fa-code mr-2"></i>
                            <span>前端开发</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-server mr-2"></i>
                            <span>后端开发</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-mobile-alt mr-2"></i>
                            <span>移动开发</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-brain mr-2"></i>
                            <span>人工智能</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-database mr-2"></i>
                            <span>大数据</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-cloud mr-2"></i>
                            <span>云计算</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center py-2 px-3 rounded-lg text-gray-600 hover:bg-gray-100">
                            <i class="fas fa-shield-alt mr-2"></i>
                            <span>网络安全</span>
                        </a>
                    </li>
                </ul>
            </div>
        </aside>
        
        <!-- 中间主内容区 -->
        <div id="main-content" class="flex-1 min-w-0">
            <!-- 文章头部信息 -->
            <section id="article-header" class="bg-white rounded-xl shadow-card p-6 mb-6">
                <div class="flex items-center text-sm text-gray-500 mb-4">
                    <a href="P-HOME.html" class="hover:text-primary">首页</a>
                    <span class="mx-2">/</span>
                    <a href="#" id="article-category-link" class="hover:text-primary">前端开发</a>
                    <span class="mx-2">/</span>
                    <span>文章详情</span>
                </div>
                
                <h1 id="article-title" class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">Vue 3 + TypeScript + Vite 项目最佳实践指南</h1>
                
                <div class="flex flex-wrap items-center mb-4">
                    <span id="article-category" class="bg-purple-100 text-purple-600 text-xs font-medium py-1 px-2 rounded-full mr-3">前端开发</span>
                    <span id="article-date" class="text-gray-500 text-sm mr-4"><i class="far fa-clock mr-1"></i>2023-10-22</span>
                    <span id="article-views" class="text-gray-500 text-sm mr-4"><i class="far fa-eye mr-1"></i>1.8k 浏览</span>
                    <span id="article-comments" class="text-gray-500 text-sm"><i class="far fa-comment mr-1"></i>36 评论</span>
                </div>
                
                <div class="flex flex-wrap gap-2 mb-6">
                    <a href="#" id="tag-vue3" class="tag text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full">Vue3</a>
                    <a href="#" id="tag-typescript" class="tag text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full">TypeScript</a>
                    <a href="#" id="tag-vite" class="tag text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full">Vite</a>
                    <a href="#" id="tag-frontend" class="tag text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full">前端框架</a>
                    <a href="#" id="tag-bestpractice" class="tag text-xs text-gray-600 bg-gray-100 px-2 py-1 rounded-full">最佳实践</a>
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <a href="#" id="author-profile-link">
                            <img id="author-avatar" src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="作者头像" class="w-10 h-10 rounded-full object-cover">
                        </a>
                        <div class="ml-3">
                            <a href="#" id="author-name" class="text-gray-800 font-medium hover:text-primary">Alex Zhang</a>
                            <p id="author-bio" class="text-gray-500 text-xs">前端开发工程师 | 3年经验</p>
                        </div>
                    </div>
                    <button id="follow-author-btn" class="bg-primary bg-opacity-10 text-primary px-4 py-1.5 rounded-full text-sm font-medium hover:bg-opacity-20 transition-all">
                        <i class="fas fa-plus mr-1"></i>关注作者
                    </button>
                </div>
            </section>
            
            <!-- 文章内容 -->
            <section id="article-content-section" class="bg-white rounded-xl shadow-card p-6 mb-6">
                <div id="article-content" class="article-content text-gray-700">
                    <p class="text-lg font-medium text-gray-800 mb-4">本文总结了使用Vue 3 + TypeScript + Vite搭建现代前端项目的最佳实践，包括项目结构、组件设计、状态管理、性能优化等方面的经验。</p>
                    
                    <h2 id="section-1">1. 项目初始化与配置</h2>
                    <p>使用Vite创建Vue 3 + TypeScript项目是目前最高效的方式。Vite提供了极快的开发服务器启动速度和热更新性能，特别适合现代前端开发。</p>
                    
                    <h3 id="section-1-1">1.1 创建项目</h3>
                    <p>使用以下命令快速创建一个Vue 3 + TypeScript + Vite项目：</p>
                    <pre><code>npm create vite@latest my-vue-app --template vue-ts</code></pre>
                    
                    <h3 id="section-1-2">1.2 推荐的项目结构</h3>
                    <p>一个良好的项目结构对于代码的可维护性至关重要。以下是推荐的项目结构：</p>
                    <pre><code>src/
├── assets/          # 静态资源
├── components/      # 通用组件
│   ├── common/      # 基础UI组件
│   └── business/    # 业务组件
├── composables/     # 组合式函数
├── router/          # 路由配置
├── stores/          # Pinia状态管理
├── types/           # TypeScript类型定义
├── utils/           # 工具函数
└── views/           # 页面组件</code></pre>
                    
                    <h2 id="section-2">2. TypeScript最佳实践</h2>
                    <p>TypeScript为Vue项目带来了类型安全和更好的开发体验。以下是一些TypeScript的最佳实践：</p>
                    
                    <h3 id="section-2-1">2.1 定义组件Props</h3>
                    <p>使用<code>defineProps</code>和泛型来定义组件的props：</p>
                    <pre><code>// 使用运行时声明
const props = defineProps({
  title: { type: String, required: true },
  count: { type: Number, default: 0 }
})

// 使用类型声明（推荐）
interface Props {
  title: string
  count?: number
}

const props = defineProps&lt;Props&gt;()</code></pre>
                    
                    <h3 id="section-2-2">2.2 定义组件Emits</h3>
                    <p>使用<code>defineEmits</code>来定义组件的事件：</p>
                    <pre><code>// 使用类型声明
const emit = defineEmits&lt;{
  (e: 'update', value: string): void
  (e: 'delete', id: number): void
}&gt;()</code></pre>
                    
                    <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80" alt="编程示例图" class="my-6 rounded-lg shadow-md">
                    
                    <h2 id="section-3">3. 组件设计原则</h2>
                    <p>良好的组件设计是构建可维护Vue应用的关键。以下是一些组件设计原则：</p>
                    
                    <h3 id="section-3-1">3.1 单一职责原则</h3>
                    <p>每个组件应该只有一个职责，这样可以使组件更容易理解、测试和维护。</p>
                    
                    <blockquote>
                        组件应该小而专注，而不是大而全能。如果一个组件变得过于复杂，考虑将其拆分为多个小组件。
                    </blockquote>
                    
                    <h3 id="section-3-2">3.2 组件通信</h3>
                    <p>Vue 3提供了多种组件通信方式，应根据不同场景选择合适的方式：</p>
                    <ul>
                        <li>Props和Emits：适用于父子组件通信</li>
                        <li>Provide/Inject：适用于深层组件通信</li>
                        <li>Pinia：适用于全局状态管理</li>
                    </ul>
                    
                    <h2 id="section-4">4. 状态管理</h2>
                    <p>Pinia是Vue 3官方推荐的状态管理库，相比Vuex有更好的TypeScript支持和更简洁的API。</p>
                    
                    <h3 id="section-4-1">4.1 定义Store</h3>
                    <pre><code>// stores/counter.ts
import { defineStore } from 'pinia'

export const useCounterStore = defineStore('counter', {
  state: () => ({
    count: 0,
    name: 'Counter'
  }),
  getters: {
    doubleCount: (state) => state.count * 2
  },
  actions: {
    increment() {
      this.count++
    }
  }
})</code></pre>
                    
                    <h3 id="section-4-2">4.2 在组件中使用Store</h3>
                    <pre><code>import { useCounterStore } from '@/stores/counter'

export default {
  setup() {
    const counter = useCounterStore()
    
    // 直接访问state
    console.log(counter.count)
    
    // 调用action
    counter.increment()
    
    return { counter }
  }
}</code></pre>
                    
                    <h2 id="section-5">5. 性能优化</h2>
                    <p>Vue 3的响应式系统已经非常高效，但仍有一些优化技巧可以进一步提升性能：</p>
                    
                    <h3 id="section-5-1">5.1 使用v-memo减少不必要的更新</h3>
                    <pre><code>&lt;div v-for="item in list" :key="item.id" v-memo="[item.id, item.active]"&gt;
  {{ item.name }}
&lt;/div&gt;</code></pre>
                    
                    <h3 id="section-5-2">5.2 异步组件和懒加载</h3>
                    <pre><code>// 异步导入组件
const UserDashboard = defineAsyncComponent(() => 
  import('./UserDashboard.vue')
)

// 路由懒加载
const routes = [
  {
    path: '/dashboard',
    component: () => import('./views/Dashboard.vue')
  }
]</code></pre>
                    
                    <h2 id="section-6">6. 测试策略</h2>
                    <p>一个健壮的Vue应用应该有完善的测试策略，包括单元测试、组件测试和端到端测试。</p>
                    
                    <h3 id="section-6-1">6.1 单元测试</h3>
                    <p>使用Vitest进行单元测试，它与Vite完美集成，提供了极快的测试执行速度。</p>
                    
                    <h3 id="section-6-2">6.2 组件测试</h3>
                    <p>使用@vue/test-utils和Vitest进行组件测试：</p>
                    <pre><code>import { mount } from '@vue/test-utils'
import { describe, it, expect } from 'vitest'
import Counter from '../Counter.vue'

describe('Counter.vue', () => {
  it('renders correctly', () => {
    const wrapper = mount(Counter, {
      props: {
        initialCount: 5
      }
    })
    expect(wrapper.text()).toContain('5')
  })
})</code></pre>
                    
                    <h2 id="section-7">7. 部署与构建优化</h2>
                    <p>Vite提供了强大的构建优化功能，可以生成高效的生产代码。</p>
                    
                    <h3 id="section-7-1">7.1 构建优化</h3>
                    <ul>
                        <li>启用代码分割</li>
                        <li>使用现代浏览器构建</li>
                        <li>优化资源加载</li>
                    </ul>
                    
                    <h3 id="section-7-2">7.2 部署策略</h3>
                    <p>将构建后的应用部署到CDN或静态网站托管服务，如Vercel、Netlify或GitHub Pages。</p>
                    
                    <h2 id="section-8">8. 总结</h2>
                    <p>Vue 3 + TypeScript + Vite是目前最现代、高效的前端开发栈之一。通过遵循本文提到的最佳实践，可以构建出高性能、可维护的前端应用。</p>
                    
                    <p>希望本文对你的Vue 3项目开发有所帮助。如有问题或建议，欢迎在评论区留言讨论。</p>
                </div>
            </section>
            
            <!-- 文章操作区 -->
            <section id="article-actions" class="bg-white rounded-xl shadow-card p-4 mb-6">
                <div class="flex flex-wrap justify-between items-center">
                    <div class="flex space-x-4">
                        <button id="like-btn" class="flex items-center space-x-1 text-gray-600 hover:text-primary transition-colors">
                            <i class="far fa-thumbs-up text-xl"></i>
                            <span id="like-count">245</span>
                        </button>
                        <button id="dislike-btn" class="flex items-center space-x-1 text-gray-600 hover:text-danger transition-colors">
                            <i class="far fa-thumbs-down text-xl"></i>
                            <span id="dislike-count">12</span>
                        </button>
                        <button id="comment-btn" class="flex items-center space-x-1 text-gray-600 hover:text-info transition-colors">
                            <i class="far fa-comment text-xl"></i>
                            <span id="comment-count">36</span>
                        </button>
                    </div>
                    <div class="flex space-x-4">
                        <button id="collect-btn" class="flex items-center space-x-1 text-gray-600 hover:text-warning transition-colors">
                            <i class="far fa-star text-xl"></i>
                            <span>收藏</span>
                        </button>
                        <div class="relative">
                            <button id="share-btn" class="flex items-center space-x-1 text-gray-600 hover:text-info transition-colors">
                                <i class="fas fa-share-alt text-xl"></i>
                                <span>分享</span>
                            </button>
                            <!-- 分享弹出菜单 - 默认隐藏 -->
                            <div id="share-menu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-10 py-2">
                                <a href="#" id="share-wechat" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100">
                                    <i class="fab fa-weixin text-green-500 mr-2"></i>
                                    <span>微信</span>
                                </a>
                                <a href="#" id="share-weibo" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100">
                                    <i class="fab fa-weibo text-red-500 mr-2"></i>
                                    <span>微博</span>
                                </a>
                                <a href="#" id="share-link" class="flex items-center px-4 py-2 text-gray-700 hover:bg-gray-100">
                                    <i class="fas fa-link text-blue-500 mr-2"></i>
                                    <span>复制链接</span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 评论区 -->
            <section id="comments-section" class="bg-white rounded-xl shadow-card p-6 mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-6">评论 (36)</h3>
                
                <!-- 评论输入框 -->
                <div id="comment-form" class="mb-8">
                    <div class="flex items-start space-x-4">
                        <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="用户头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                        <div class="flex-1">
                            <textarea id="comment-input" placeholder="写下你的评论..." class="w-full border border-gray-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent resize-none" rows="3"></textarea>
                            <div class="flex justify-end mt-2">
                                <button id="submit-comment-btn" class="bg-primary hover:bg-secondary text-white px-4 py-2 rounded-lg btn-primary-effect">
                                    发表评论
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 评论列表 -->
                <div id="comments-list" class="space-y-6">
                    <!-- 评论项1 -->
                    <div id="comment-1" class="comment-item pb-6">
                        <div class="flex items-start space-x-4">
                            <a href="#" id="comment-1-author-link">
                                <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="评论者头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                            </a>
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-1">
                                    <div>
                                        <a href="#" id="comment-1-author-name" class="font-medium text-gray-900 hover:text-primary">David Chen</a>
                                        <span class="text-gray-500 text-sm ml-2">2023-10-22</span>
                                    </div>
                                    <div class="text-gray-500 text-sm">1楼</div>
                                </div>
                                <p id="comment-1-content" class="text-gray-700 mb-3">非常详细的指南，特别是TypeScript的最佳实践部分对我帮助很大。我一直在纠结如何正确定义组件的props和emits，这篇文章给了我很好的参考。</p>
                                <div class="flex items-center space-x-4">
                                    <button id="comment-1-like-btn" class="text-gray-500 text-sm hover:text-primary flex items-center">
                                        <i class="far fa-thumbs-up mr-1"></i>
                                        <span id="comment-1-like-count">24</span>
                                    </button>
                                    <button id="comment-1-reply-btn" class="text-gray-500 text-sm hover:text-primary flex items-center">
                                        <i class="far fa-comment mr-1"></i>
                                        <span>回复</span>
                                    </button>
                                </div>
                                
                                <!-- 回复列表 -->
                                <div id="comment-1-replies" class="mt-4 pl-6 border-l-2 border-gray-100 space-y-4">
                                    <!-- 回复项1 -->
                                    <div id="reply-1-1" class="flex items-start space-x-3">
                                        <a href="#" id="reply-1-1-author-link">
                                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="回复者头像" class="w-8 h-8 rounded-full object-cover flex-shrink-0">
                                        </a>
                                        <div class="flex-1">
                                            <div class="flex items-center mb-1">
                                                <a href="#" id="reply-1-1-author-name" class="font-medium text-gray-900 hover:text-primary">Alex Zhang</a>
                                                <span class="text-gray-500 text-xs ml-2">作者</span>
                                                <span class="text-gray-500 text-sm ml-2">2023-10-22</span>
                                            </div>
                                            <p id="reply-1-1-content" class="text-gray-700 text-sm">谢谢支持！TypeScript确实能大大提升开发体验，尤其是在大型项目中。如果有任何问题，欢迎继续交流。</p>
                                            <div class="flex items-center mt-1">
                                                <button id="reply-1-1-like-btn" class="text-gray-500 text-xs hover:text-primary flex items-center">
                                                    <i class="far fa-thumbs-up mr-1"></i>
                                                    <span id="reply-1-1-like-count">8</span>
                                                </button>
                                                <button id="reply-1-1-reply-btn" class="text-gray-500 text-xs hover:text-primary flex items-center ml-3">
                                                    <i class="far fa-comment mr-1"></i>
                                                    <span>回复</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 评论项2 -->
                    <div id="comment-2" class="comment-item pb-6">
                        <div class="flex items-start space-x-4">
                            <a href="#" id="comment-2-author-link">
                                <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="评论者头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                            </a>
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-1">
                                    <div>
                                        <a href="#" id="comment-2-author-name" class="font-medium text-gray-900 hover:text-primary">Sarah Lin</a>
                                        <span class="text-gray-500 text-sm ml-2">2023-10-22</span>
                                    </div>
                                    <div class="text-gray-500 text-sm">2楼</div>
                                </div>
                                <p id="comment-2-content" class="text-gray-700 mb-3">关于Pinia的使用部分讲得很清晰，比Vuex简洁多了。不过我想问一下，在大型项目中，如何组织多个store？有没有什么推荐的结构？</p>
                                <div class="flex items-center space-x-4">
                                    <button id="comment-2-like-btn" class="text-gray-500 text-sm hover:text-primary flex items-center">
                                        <i class="far fa-thumbs-up mr-1"></i>
                                        <span id="comment-2-like-count">16</span>
                                    </button>
                                    <button id="comment-2-reply-btn" class="text-gray-500 text-sm hover:text-primary flex items-center">
                                        <i class="far fa-comment mr-1"></i>
                                        <span>回复</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 评论项3 -->
                    <div id="comment-3" class="comment-item pb-6">
                        <div class="flex items-start space-x-4">
                            <a href="#" id="comment-3-author-link">
                                <img src="https://images.unsplash.com/photo-1607746882042-944635dfe10e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="评论者头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0">
                            </a>
                            <div class="flex-1">
                                <div class="flex items-center justify-between mb-1">
                                    <div>
                                        <a href="#" id="comment-3-author-name" class="font-medium text-gray-900 hover:text-primary">Emily Wang</a>
                                        <span class="text-gray-500 text-sm ml-2">2023-10-21</span>
                                    </div>
                                    <div class="text-gray-500 text-sm">3楼</div>
                                </div>
                                <p id="comment-3-content" class="text-gray-700 mb-3">文章中提到的性能优化技巧很实用，特别是v-memo的使用，之前都不知道有这个指令。另外想问一下，对于大型列表渲染，有没有其他推荐的优化方法？</p>
                                <div class="flex items-center space-x-4">
                                    <button id="comment-3-like-btn" class="text-gray-500 text-sm hover:text-primary flex items-center">
                                        <i class="far fa-thumbs-up mr-1"></i>
                                        <span id="comment-3-like-count">12</span>
                                    </button>
                                    <button id="comment-3-reply-btn" class="text-gray-500 text-sm hover:text-primary flex items-center">
                                        <i class="far fa-comment mr-1"></i>
                                        <span>回复</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 分页 -->
                <div class="flex justify-center mt-8">
                    <nav id="comments-pagination" class="flex items-center bg-white rounded-lg shadow-sm p-1">
                        <a href="#" id="comments-prev-page" class="w-9 h-9 flex items-center justify-center text-gray-500 rounded-lg hover:bg-gray-100">
                            <i class="fas fa-chevron-left"></i>
                        </a>
                        <a href="#" id="comments-page-1" class="w-9 h-9 flex items-center justify-center text-white bg-primary rounded-lg">1</a>
                        <a href="#" id="comments-page-2" class="w-9 h-9 flex items-center justify-center text-gray-700 rounded-lg hover:bg-gray-100">2</a>
                        <a href="#" id="comments-page-3" class="w-9 h-9 flex items-center justify-center text-gray-700 rounded-lg hover:bg-gray-100">3</a>
                        <span class="w-9 h-9 flex items-center justify-center text-gray-500">...</span>
                        <a href="#" id="comments-page-5" class="w-9 h-9 flex items-center justify-center text-gray-700 rounded-lg hover:bg-gray-100">5</a>
                        <a href="#" id="comments-next-page" class="w-9 h-9 flex items-center justify-center text-gray-500 rounded-lg hover:bg-gray-100">
                            <i class="fas fa-chevron-right"></i>
                        </a>
                    </nav>
                </div>
            </section>
            
            <!-- 相关文章推荐 -->
            <section id="related-articles" class="bg-white rounded-xl shadow-card p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-6">相关文章推荐</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- 相关文章1 -->
                    <article id="related-article-1" class="flex space-x-4">
                        <div class="w-20 h-20 flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&q=80" alt="文章配图" class="w-full h-full object-cover rounded-lg">
                        </div>
                        <div class="flex-1">
                            <a href="#" id="related-article-1-link" class="text-gray-800 font-medium hover:text-primary line-clamp-2">TypeScript高级类型与Vue 3组合式API最佳实践</a>
                            <div class="flex items-center mt-2 text-xs text-gray-500">
                                <span id="related-article-1-views"><i class="far fa-eye mr-1"></i>1.5k</span>
                                <span class="mx-2">·</span>
                                <span id="related-article-1-likes"><i class="far fa-thumbs-up mr-1"></i>186</span>
                            </div>
                        </div>
                    </article>
                    
                    <!-- 相关文章2 -->
                    <article id="related-article-2" class="flex space-x-4">
                        <div class="w-20 h-20 flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1537432376769-00f5c2f4c8d2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&q=80" alt="文章配图" class="w-full h-full object-cover rounded-lg">
                        </div>
                        <div class="flex-1">
                            <a href="#" id="related-article-2-link" class="text-gray-800 font-medium hover:text-primary line-clamp-2">Vite构建优化：如何提升大型Vue项目的构建速度</a>
                            <div class="flex items-center mt-2 text-xs text-gray-500">
                                <span id="related-article-2-views"><i class="far fa-eye mr-1"></i>1.2k</span>
                                <span class="mx-2">·</span>
                                <span id="related-article-2-likes"><i class="far fa-thumbs-up mr-1"></i>142</span>
                            </div>
                        </div>
                    </article>
                    
                    <!-- 相关文章3 -->
                    <article id="related-article-3" class="flex space-x-4">
                        <div class="w-20 h-20 flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&q=80" alt="文章配图" class="w-full h-full object-cover rounded-lg">
                        </div>
                        <div class="flex-1">
                            <a href="#" id="related-article-3-link" class="text-gray-800 font-medium hover:text-primary line-clamp-2">Vue 3组件库设计与开发实战</a>
                            <div class="flex items-center mt-2 text-xs text-gray-500">
                                <span id="related-article-3-views"><i class="far fa-eye mr-1"></i>1.8k</span>
                                <span class="mx-2">·</span>
                                <span id="related-article-3-likes"><i class="far fa-thumbs-up mr-1"></i>210</span>
                            </div>
                        </div>
                    </article>
                    
                    <!-- 相关文章4 -->
                    <article id="related-article-4" class="flex space-x-4">
                        <div class="w-20 h-20 flex-shrink-0">
                            <img src="https://images.unsplash.com/photo-1517694712202-14dd9538aa97?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=80&q=80" alt="文章配图" class="w-full h-full object-cover rounded-lg">
                        </div>
                        <div class="flex-1">
                            <a href="#" id="related-article-4-link" class="text-gray-800 font-medium hover:text-primary line-clamp-2">2023年前端开发趋势与最佳实践</a>
                            <div class="flex items-center mt-2 text-xs text-gray-500">
                                <span id="related-article-4-views"><i class="far fa-eye mr-1"></i>2.8k</span>
                                <span class="mx-2">·</span>
                                <span id="related-article-4-likes"><i class="far fa-thumbs-up mr-1"></i>432</span>
                            </div>
                        </div>
                    </article>
                </div>
            </section>
        </div>
        
        <!-- 右侧面板 - 仅在大屏幕(≥1440px)显示 -->
        <aside id="right-sidebar" class="hidden xl:block w-72 ml-6 flex-shrink-0">
            <!-- 作者信息卡片 -->
            <div class="bg-white rounded-xl shadow-card p-4 mb-6 sticky top-20">
                <div class="flex flex-col items-center text-center mb-4">
                    <img id="sidebar-author-avatar" src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=100&q=80" alt="作者头像" class="w-20 h-20 rounded-full object-cover mb-3">
                    <h4 id="sidebar-author-name" class="text-gray-800 font-medium">Alex Zhang</h4>
                    <p id="sidebar-author-bio" class="text-gray-500 text-sm mt-1">前端开发工程师 | 3年经验</p>
                    <button id="sidebar-follow-btn" class="mt-3 bg-primary hover:bg-secondary text-white px-6 py-1.5 rounded-full text-sm font-medium btn-primary-effect">
                        <i class="fas fa-plus mr-1"></i>关注
                    </button>
                </div>
                <div class="flex justify-around text-center border-t border-gray-100 pt-4">
                    <div>
                        <div id="sidebar-author-articles" class="text-gray-800 font-medium">42</div>
                        <div class="text-gray-500 text-xs">文章</div>
                    </div>
                    <div>
                        <div id="sidebar-author-followers" class="text-gray-800 font-medium">1.2k</div>
                        <div class="text-gray-500 text-xs">粉丝</div>
                    </div>
                    <div>
                        <div id="sidebar-author-likes" class="text-gray-800 font-medium">8.5k</div>
                        <div class="text-gray-500 text-xs">获赞</div>
                    </div>
                </div>
            </div>
            
            <!-- 文章目录 -->
            <div class="bg-white rounded-xl shadow-card p-4 mb-6 sticky top-80">
                <h4 class="text-gray-800 font-medium mb-3">文章目录</h4>
                <ul id="article-toc" class="space-y-1 text-sm">
                    <li>
                        <a href="#section-1" class="toc-item block py-1.5 px-3 rounded-lg active">1. 项目初始化与配置</a>
                        <ul class="pl-4 mt-1 space-y-1">
                            <li><a href="#section-1-1" class="toc-item block py-1 px-3 rounded-lg">1.1 创建项目</a></li>
                            <li><a href="#section-1-2" class="toc-item block py-1 px-3 rounded-lg">1.2 推荐的项目结构</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#section-2" class="toc-item block py-1.5 px-3 rounded-lg">2. TypeScript最佳实践</a>
                        <ul class="pl-4 mt-1 space-y-1">
                            <li><a href="#section-2-1" class="toc-item block py-1 px-3 rounded-lg">2.1 定义组件Props</a></li>
                            <li><a href="#section-2-2" class="toc-item block py-1 px-3 rounded-lg">2.2 定义组件Emits</a></li>
                        </ul>
                    </li>
                    <li><a href="#section-3" class="toc-item block py-1.5 px-3 rounded-lg">3. 组件设计原则</a></li>
                    <li><a href="#section-4" class="toc-item block py-1.5 px-3 rounded-lg">4. 状态管理</a></li>
                    <li><a href="#section-5" class="toc-item block py-1.5 px-3 rounded-lg">5. 性能优化</a></li>
                    <li><a href="#section-6" class="toc-item block py-1.5 px-3 rounded-lg">6. 测试策略</a></li>
                    <li><a href="#section-7" class="toc-item block py-1.5 px-3 rounded-lg">7. 部署与构建优化</a></li>
                    <li><a href="#section-8" class="toc-item block py-1.5 px-3 rounded-lg">8. 总结</a></li>
                </ul>
            </div>
            
            <!-- 热门评论 -->
            <div class="bg-white rounded-xl shadow-card p-4">
                <h4 class="text-gray-800 font-medium mb-3">热门评论</h4>
                <div class="space-y-4">
                    <div id="hot-comment-1" class="p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center mb-2">
                            <img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="评论者头像" class="w-6 h-6 rounded-full object-cover">
                            <span class="text-gray-800 text-sm font-medium ml-2">David Chen</span>
                        </div>
                        <p class="text-gray-600 text-sm line-clamp-3">非常详细的指南，特别是TypeScript的最佳实践部分对我帮助很大。我一直在纠结如何正确定义组件的props和emits，这篇文章给了我很好的参考。</p>
                        <div class="flex items-center justify-between mt-2 text-xs">
                            <span class="text-gray-500">2023-10-22</span>
                            <span class="text-primary"><i class="far fa-thumbs-up mr-1"></i>24</span>
                        </div>
                    </div>
                    
                    <div id="hot-comment-2" class="p-3 bg-gray-50 rounded-lg">
                        <div class="flex items-center mb-2">
                            <img src="https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=64&q=80" alt="评论者头像" class="w-6 h-6 rounded-full object-cover">
                            <span class="text-gray-800 text-sm font-medium ml-2">Sarah Lin</span>
                        </div>
                        <p class="text-gray-600 text-sm line-clamp-3">关于Pinia的使用部分讲得很清晰，比Vuex简洁多了。不过我想问一下，在大型项目中，如何组织多个store？有没有什么推荐的结构？</p>
                        <div class="flex items-center justify-between mt-2 text-xs">
                            <span class="text-gray-500">2023-10-22</span>
                            <span class="text-primary"><i class="far fa-thumbs-up mr-1"></i>16</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>
    </main>
    
    <!-- 底部版权信息 -->
    <footer id="main-footer" class="bg-white py-6 mt-8">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center justify-center md:justify-start">
                        <span class="text-primary text-xl font-bold mr-1">lec</span>
                        <span class="text-gray-800 text-xl font-bold">tech</span>
                    </div>
                    <p class="text-gray-500 text-sm mt-2 text-center md:text-left">专注于技术知识分享、交流与成长的论坛平台</p>
                </div>
                <div class="flex space-x-8">
                    <div>
                        <h4 class="text-gray-800 font-medium mb-2">关于我们</h4>
                        <ul class="space-y-1">
                            <li><a href="#" class="text-gray-500 text-sm hover:text-primary">平台介绍</a></li>
                            <li><a href="#" class="text-gray-500 text-sm hover:text-primary">联系我们</a></li>
                            <li><a href="#" class="text-gray-500 text-sm hover:text-primary">加入我们</a></li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-gray-800 font-medium mb-2">帮助中心</h4>
                        <ul class="space-y-1">
                            <li><a href="#" class="text-gray-500 text-sm hover:text-primary">常见问题</a></li>
                            <li><a href="#" class="text-gray-500 text-sm hover:text-primary">用户指南</a></li>
                            <li><a href="#" class="text-gray-500 text-sm hover:text-primary">内容规范</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="mt-6 pt-6 border-t border-gray-200 text-center">
                <p class="text-gray-500 text-sm">© 2023 lectech. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- 交互脚本 -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 获取URL参数
            function getUrlParams() {
                const params = {};
                const queryString = window.location.search.substring(1);
                const urlParams = new URLSearchParams(queryString);
                
                for(const [key, value] of urlParams.entries()) {
                    params[key] = value;
                }
                return params;
            }
            
            // 获取文章ID参数
            const params = getUrlParams();
            const articleId = params.articleId || 'default';
            
            // 顶部导航交互
            document.querySelector('#search-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const keyword = this.value.trim();
                    if (keyword) {
                        window.location.href = `P-SEARCH_RESULT.html?keyword=${encodeURIComponent(keyword)}`;
                    }
                }
            });
            
            // 移动端菜单按钮
            document.querySelector('#mobile-menu-btn').addEventListener('click', function() {
                // 在实际应用中，这里会显示移动端菜单
                console.log('移动端菜单按钮点击');
            });
            
            // 文章操作区交互
            document.querySelector('#like-btn').addEventListener('click', function() {
                const likeCount = document.querySelector('#like-count');
                const currentCount = parseInt(likeCount.textContent);
                
                // 切换点赞状态
                if (this.classList.contains('text-primary')) {
                    this.classList.remove('text-primary');
                    this.classList.add('text-gray-600');
                    this.querySelector('i').classList.remove('fas');
                    this.querySelector('i').classList.add('far');
                    likeCount.textContent = currentCount - 1;
                } else {
                    this.classList.remove('text-gray-600');
                    this.classList.add('text-primary');
                    this.querySelector('i').classList.remove('far');
                    this.querySelector('i').classList.add('fas');
                    likeCount.textContent = currentCount + 1;
                    
                    // 如果点赞，则取消点踩
                    if (document.querySelector('#dislike-btn').classList.contains('text-danger')) {
                        document.querySelector('#dislike-btn').click();
                    }
                }
            });
            
            document.querySelector('#dislike-btn').addEventListener('click', function() {
                const dislikeCount = document.querySelector('#dislike-count');
                const currentCount = parseInt(dislikeCount.textContent);
                
                // 切换点踩状态
                if (this.classList.contains('text-danger')) {
                    this.classList.remove('text-danger');
                    this.classList.add('text-gray-600');
                    this.querySelector('i').classList.remove('fas');
                    this.querySelector('i').classList.add('far');
                    dislikeCount.textContent = currentCount - 1;
                } else {
                    this.classList.remove('text-gray-600');
                    this.classList.add('text-danger');
                    this.querySelector('i').classList.remove('far');
                    this.querySelector('i').classList.add('fas');
                    dislikeCount.textContent = currentCount + 1;
                    
                    // 如果点踩，则取消点赞
                    if (document.querySelector('#like-btn').classList.contains('text-primary')) {
                        document.querySelector('#like-btn').click();
                    }
                }
            });
            
            document.querySelector('#comment-btn').addEventListener('click', function() {
                // 滚动到评论区
                document.querySelector('#comments-section').scrollIntoView({ behavior: 'smooth' });
            });
            
            document.querySelector('#collect-btn').addEventListener('click', function() {
                // 切换收藏状态
                if (this.classList.contains('text-warning')) {
                    this.classList.remove('text-warning');
                    this.classList.add('text-gray-600');
                    this.querySelector('i').classList.remove('fas');
                    this.querySelector('i').classList.add('far');
                    this.querySelector('span').textContent = '收藏';
                } else {
                    this.classList.remove('text-gray-600');
                    this.classList.add('text-warning');
                    this.querySelector('i').classList.remove('far');
                    this.querySelector('i').classList.add('fas');
                    this.querySelector('span').textContent = '已收藏';
                }
            });
            
            // 分享按钮
            document.querySelector('#share-btn').addEventListener('click', function() {
                const shareMenu = document.querySelector('#share-menu');
                shareMenu.classList.toggle('hidden');
            });
            
            // 点击页面其他地方关闭分享菜单
            document.addEventListener('click', function(e) {
                const shareBtn = document.querySelector('#share-btn');
                const shareMenu = document.querySelector('#share-menu');
                
                if (!shareBtn.contains(e.target) && !shareMenu.contains(e.target)) {
                    shareMenu.classList.add('hidden');
                }
            });
            
            // 分享选项
            document.querySelector('#share-wechat').addEventListener('click', function(e) {
                e.preventDefault();
                console.log('分享到微信');
                document.querySelector('#share-menu').classList.add('hidden');
            });
            
            document.querySelector('#share-weibo').addEventListener('click', function(e) {
                e.preventDefault();
                console.log('分享到微博');
                document.querySelector('#share-menu').classList.add('hidden');
            });
            
            document.querySelector('#share-link').addEventListener('click', function(e) {
                e.preventDefault();
                // 复制当前页面链接
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(function() {
                    alert('链接已复制到剪贴板');
                }).catch(function(err) {
                    console.error('无法复制链接: ', err);
                });
                document.querySelector('#share-menu').classList.add('hidden');
            });
            
            // 评论区交互
            document.querySelector('#submit-comment-btn').addEventListener('click', function() {
                const commentInput = document.querySelector('#comment-input');
                const commentText = commentInput.value.trim();
                
                if (commentText) {
                    // 在实际应用中，这里会提交评论到服务器
                    alert('评论提交成功！');
                    commentInput.value = '';
                } else {
                    alert('请输入评论内容');
                }
            });
            
            // 评论点赞
            document.querySelectorAll('[id^="comment-"][id$="-like-btn"]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const likeCount = this.querySelector('span');
                    const currentCount = parseInt(likeCount.textContent);
                    
                    if (this.classList.contains('text-primary')) {
                        this.classList.remove('text-primary');
                        this.classList.add('text-gray-500');
                        likeCount.textContent = currentCount - 1;
                    } else {
                        this.classList.remove('text-gray-500');
                        this.classList.add('text-primary');
                        likeCount.textContent = currentCount + 1;
                    }
                });
            });
            
            // 评论回复
            document.querySelectorAll('[id^="comment-"][id$="-reply-btn"]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const commentId = this.id.split('-')[1];
                    alert(`回复评论 ${commentId}`);
                    // 在实际应用中，这里会显示回复输入框
                });
            });
            
            // 回复点赞
            document.querySelectorAll('[id^="reply-"][id$="-like-btn"]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const likeCount = this.querySelector('span');
                    const currentCount = parseInt(likeCount.textContent);
                    
                    if (this.classList.contains('text-primary')) {
                        this.classList.remove('text-primary');
                        this.classList.add('text-gray-500');
                        likeCount.textContent = currentCount - 1;
                    } else {
                        this.classList.remove('text-gray-500');
                        this.classList.add('text-primary');
                        likeCount.textContent = currentCount + 1;
                    }
                });
            });
            
            // 回复按钮
            document.querySelectorAll('[id^="reply-"][id$="-reply-btn"]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const replyId = this.id.split('-')[1] + '-' + this.id.split('-')[2];
                    alert(`回复 ${replyId}`);
                    // 在实际应用中，这里会显示回复输入框
                });
            });
            
            // 评论分页
            document.querySelectorAll('#comments-pagination a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    // 在实际应用中，这里会加载对应页的评论
                    console.log(`加载评论页: ${this.textContent.trim()}`);
                });
            });
            
            // 关注作者
            document.querySelector('#follow-author-btn').addEventListener('click', function() {
                if (this.textContent.includes('关注作者')) {
                    this.innerHTML = '<i class="fas fa-check mr-1"></i>已关注';
                    this.classList.remove('bg-primary', 'bg-opacity-10', 'text-primary');
                    this.classList.add('bg-gray-200', 'text-gray-600');
                } else {
                    this.innerHTML = '<i class="fas fa-plus mr-1"></i>关注作者';
                    this.classList.remove('bg-gray-200', 'text-gray-600');
                    this.classList.add('bg-primary', 'bg-opacity-10', 'text-primary');
                }
            });
            
            // 右侧栏关注按钮
            document.querySelector('#sidebar-follow-btn').addEventListener('click', function() {
                if (this.textContent.includes('关注')) {
                    this.innerHTML = '<i class="fas fa-check mr-1"></i>已关注';
                    this.classList.remove('bg-primary', 'hover:bg-secondary');
                    this.classList.add('bg-gray-200', 'text-gray-600', 'hover:bg-gray-300');
                } else {
                    this.innerHTML = '<i class="fas fa-plus mr-1"></i>关注';
                    this.classList.remove('bg-gray-200', 'text-gray-600', 'hover:bg-gray-300');
                    this.classList.add('bg-primary', 'hover:bg-secondary', 'text-white');
                }
                
                // 同步更新文章头部的关注按钮
                const mainFollowBtn = document.querySelector('#follow-author-btn');
                if (this.textContent.includes('已关注')) {
                    mainFollowBtn.innerHTML = '<i class="fas fa-check mr-1"></i>已关注';
                    mainFollowBtn.classList.remove('bg-primary', 'bg-opacity-10', 'text-primary');
                    mainFollowBtn.classList.add('bg-gray-200', 'text-gray-600');
                } else {
                    mainFollowBtn.innerHTML = '<i class="fas fa-plus mr-1"></i>关注作者';
                    mainFollowBtn.classList.remove('bg-gray-200', 'text-gray-600');
                    mainFollowBtn.classList.add('bg-primary', 'bg-opacity-10', 'text-primary');
                }
            });
            
            // 文章目录交互
            document.querySelectorAll('#article-toc a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        // 滚动到目标位置
                        window.scrollTo({
                            top: targetElement.offsetTop - 80, // 减去顶部导航栏高度
                            behavior: 'smooth'
                        });
                        
                        // 更新目录项的激活状态
                        document.querySelectorAll('#article-toc a').forEach(item => {
                            item.classList.remove('active');
                        });
                        this.classList.add('active');
                    }
                });
            });
            
            // 监听滚动，更新目录激活状态
            window.addEventListener('scroll', function() {
                const scrollPosition = window.scrollY;
                
                // 获取所有标题元素
                const headings = document.querySelectorAll('#article-content h2, #article-content h3');
                
                // 找到当前滚动位置对应的标题
                let currentHeading = null;
                for (let i = 0; i < headings.length; i++) {
                    if (headings[i].offsetTop - 100 <= scrollPosition) {
                        currentHeading = headings[i];
                    } else {
                        break;
                    }
                }
                
                if (currentHeading) {
                    const id = currentHeading.getAttribute('id');
                    const tocItem = document.querySelector(`#article-toc a[href="#${id}"]`);
                    
                    if (tocItem) {
                        document.querySelectorAll('#article-toc a').forEach(item => {
                            item.classList.remove('active');
                        });
                        tocItem.classList.add('active');
                    }
                }
            });
            
            // 相关文章链接
            document.querySelectorAll('[id^="related-article-"][id$="-link"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const articleId = this.id.split('-')[2];
                    window.location.href = `P-ARTICLE_DETAIL.html?articleId=${articleId}`;
                });
            });
            
            // 分类和标签链接
            document.querySelector('#article-category-link').addEventListener('click', function(e) {
                e.preventDefault();
                const category = document.querySelector('#article-category').textContent;
                window.location.href = `P-SEARCH_RESULT.html?category=${encodeURIComponent(category)}`;
            });
            
            document.querySelectorAll('[id^="tag-"]').forEach(tag => {
                tag.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tagName = this.textContent;
                    window.location.href = `P-SEARCH_RESULT.html?tag=${encodeURIComponent(tagName)}`;
                });
            });
            
            // 作者链接
            document.querySelector('#author-profile-link').addEventListener('click', function(e) {
                e.preventDefault();
                const authorId = 'author123'; // 在实际应用中，这里会是真实的作者ID
                window.location.href = `P-PROFILE.html?userId=${authorId}`;
            });
            
            document.querySelector('#author-name').addEventListener('click', function(e) {
                e.preventDefault();
                const authorId = 'author123'; // 在实际应用中，这里会是真实的作者ID
                window.location.href = `P-PROFILE.html?userId=${authorId}`;
            });
            
            // 评论者链接
            document.querySelectorAll('[id^="comment-"][id$="-author-link"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const commentId = this.id.split('-')[1];
                    const userId = `user${commentId}`; // 在实际应用中，这里会是真实的用户ID
                    window.location.href = `P-PROFILE.html?userId=${userId}`;
                });
            });
            
            document.querySelectorAll('[id^="comment-"][id$="-author-name"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const commentId = this.id.split('-')[1];
                    const userId = `user${commentId}`; // 在实际应用中，这里会是真实的用户ID
                    window.location.href = `P-PROFILE.html?userId=${userId}`;
                });
            });
            
            // 回复者链接
            document.querySelectorAll('[id^="reply-"][id$="-author-link"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const replyId = this.id.split('-')[1] + '-' + this.id.split('-')[2];
                    const userId = `user${replyId}`; // 在实际应用中，这里会是真实的用户ID
                    window.location.href = `P-PROFILE.html?userId=${userId}`;
                });
            });
            
            document.querySelectorAll('[id^="reply-"][id$="-author-name"]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const replyId = this.id.split('-')[1] + '-' + this.id.split('-')[2];
                    const userId = `user${replyId}`; // 在实际应用中，这里会是真实的用户ID
                    window.location.href = `P-PROFILE.html?userId=${userId}`;
                });
            });
            
            // 登录/注册按钮
            document.querySelectorAll('#auth-buttons a').forEach(link => {
                link.addEventListener('click', function(e) {
                    // 不阻止默认行为，让链接正常跳转
                });
            });
        });
    </script>
</body>
</html>